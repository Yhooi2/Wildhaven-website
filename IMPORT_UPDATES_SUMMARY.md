# üìã –†–µ–∑—é–º–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –ø–æ –∏–º–ø–æ—Ä—Ç–∞–º Next.js 15

## üéØ –ß—Ç–æ –±—ã–ª–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

### 1. –û–±–Ω–æ–≤–ª–µ–Ω REFACTORING_PLAN.md

**–î–æ–±–∞–≤–ª–µ–Ω—ã —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏–º–ø–æ—Ä—Ç–∞–º Next.js 15:**

- ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –≤—Å–µ—Ö –∑–∞–¥–∞—á
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∏ –∏–º–ø–æ—Ä—Ç–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å `npm run check:imports`
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –∏–º–ø–æ—Ä—Ç–æ–≤

**–ù–æ–≤—ã–µ —Ä–∞–∑–¥–µ–ª—ã:**

- üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏–º–ø–æ—Ä—Ç–∞–º Next.js 15
- üîç –ü—Ä–æ–≤–µ—Ä–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏
- üìä –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –∏–º–ø–æ—Ä—Ç–æ–≤

### 2. –°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏

**–§–∞–π–ª:** `scripts/check-imports-compliance.js`

**–§—É–Ω–∫—Ü–∏–∏:**

- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ ES Modules (–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ CommonJS)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–±—Å–æ–ª—é—Ç–Ω—ã—Ö –ø—É—Ç–µ–π —Å `@/`
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã—Ö —ç–∫—Å–ø–æ—Ä—Ç–æ–≤ –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –¥–ª–∏–Ω–Ω—ã—Ö –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—É—Ç–µ–π
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏

**–ö–æ–º–∞–Ω–¥–∞:** `npm run check:imports`

### 3. –û–±–Ω–æ–≤–ª–µ–Ω jsconfig.json

**–î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –∞–ª–∏–∞—Å—ã:**

```json
{
  "compilerOptions": {
    "paths": {
      "@/*": ["./*"],
      "@/components/*": ["./app/_components/*"],
      "@/features/*": ["./app/_features/*"],
      "@/api/*": ["./app/_api/*"],
      "@/entities/*": ["./app/_entities/*"]
    }
  }
}
```

### 4. –û–±–Ω–æ–≤–ª–µ–Ω IMPORT_CHECKLIST.md

**–î–æ–±–∞–≤–ª–µ–Ω—ã:**

- üîç –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏–º–ø–æ—Ä—Ç–æ–≤
- üìã –ù–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç `npm run check:imports`
- üìö –°—Å—ã–ª–∫–∞ –Ω–∞ –ø–ª–∞–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è:

```bash
npm run check:imports
```

### –î–ª—è –ø–æ–ª–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
npm run build && npm run lint && npm run check:circular && npm run check:imports
```

### –î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:

–ö–∞–∂–¥–∞—è –∑–∞–¥–∞—á–∞ —Ç–µ–ø–µ—Ä—å –≤–∫–ª—é—á–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –∏–º–ø–æ—Ä—Ç–æ–≤ –≤ –∫–æ–º–∞–Ω–¥–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:

```bash
npm run build && npm run lint && npm run check:circular && npm run check:imports && node scripts/check-step.js --component=ComponentName
```

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏

–°–∫—Ä–∏–ø—Ç –≤—ã–≤–æ–¥–∏—Ç:

- ‚úÖ –ò–º–ø–æ—Ä—Ç—ã: –ü–†–û–ô–î–ï–ù–û/–û–®–ò–ë–ö–ò
- ‚úÖ –¶–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: –ü–†–û–ô–î–ï–ù–û/–û–®–ò–ë–ö–ò
- ‚úÖ ESLint: –ü–†–û–ô–î–ï–ù–û/–û–®–ò–ë–ö–ò
- ‚úÖ –°–±–æ—Ä–∫–∞: –ü–†–û–ô–î–ï–ù–û/–û–®–ò–ë–ö–ò

## üéØ –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –≤—Å–µ—Ö –∑–∞–¥–∞—á

### 1. ES Modules —Ç–æ–ª—å–∫–æ:

```javascript
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
import { Component } from "./Component";
export { Component } from "./Component";

// ‚ùå –ó–∞–ø—Ä–µ—â–µ–Ω–æ
const Component = require("./Component");
module.exports = Component;
```

### 2. –ê–±—Å–æ–ª—é—Ç–Ω—ã–µ –ø—É—Ç–∏ —Å –∞–ª–∏–∞—Å–∞–º–∏:

```javascript
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
import { PriceDisplay } from "@/app/_entities/booking";

// ‚ùå –ó–∞–ø—Ä–µ—â–µ–Ω–æ
import { PriceDisplay } from "../../../_entities/booking";
```

### 3. –ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ —ç–∫—Å–ø–æ—Ä—Ç—ã –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

```javascript
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
export function PriceDisplay({ price }) { ... }

// ‚ùå –ó–∞–ø—Ä–µ—â–µ–Ω–æ (–∫—Ä–æ–º–µ —Å—Ç—Ä–∞–Ω–∏—Ü –∏ layout)
export default function PriceDisplay({ price }) { ... }
```

### 4. –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —ç–∫—Å–ø–æ—Ä—Ç—ã:

```javascript
// app/_entities/booking/ui/index.js
export { PriceDisplay } from "./PriceDisplay";
export { GuestSelector } from "./GuestSelector";

// app/_entities/booking/index.js
export * from "./ui";
```

### 5. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –∏–º–ø–æ—Ä—Ç–æ–≤:

```javascript
// 1. React –∏ Next.js
import React from "react";

// 2. –í–Ω–µ—à–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
import { format } from "date-fns";

// 3. –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ API
import { supabase } from "@/app/_api/supabase";

// 4. Shared –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
import { Button } from "@/app/_components/ui";

// 5. Feature –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
import { ReservationForm } from "@/app/_features/reservation";

// 6. –õ–æ–∫–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
import { LocalComponent } from "./LocalComponent";
```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏

- [ ] **ESLint –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–æ–∫:** `npm run lint`
- [ ] **–ü—Ä–æ–µ–∫—Ç —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è:** `npm run build`
- [ ] **–ù–µ—Ç —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:** `npm run check:circular`
- [ ] **–í—Å–µ –∏–º–ø–æ—Ä—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –ø—É—Ç–∏**
- [ ] **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ —ç–∫—Å–ø–æ—Ä—Ç—ã**
- [ ] **–°—Ç—Ä–∞–Ω–∏—Ü—ã –∏ layout –∏—Å–ø–æ–ª—å–∑—É—é—Ç default —ç–∫—Å–ø–æ—Ä—Ç—ã**
- [ ] **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —ç–∫—Å–ø–æ—Ä—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã**

## üìà –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–í—ã–ø–æ–ª–Ω–∏—Ç—å TASK 2.1** —Å –Ω–æ–≤—ã–º–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏
2. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã** —Å –∏–º–ø–æ—Ä—Ç–∞–º–∏
3. **–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥** —Å —Å–æ–±–ª—é–¥–µ–Ω–∏–µ–º –≤—Å–µ—Ö –ø—Ä–∞–≤–∏–ª
4. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏** –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞

---

_–û–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ–∑–¥–∞–Ω—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π Next.js 15 –∏ –ª—É—á—à–∏—Ö –ø—Ä–∞–∫—Ç–∏–∫_
_–í—Å–µ –∑–∞–¥–∞—á–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ —Ç–µ–ø–µ—Ä—å –≤–∫–ª—é—á–∞—é—Ç —Å—Ç—Ä–æ–≥–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏–º–ø–æ—Ä—Ç–æ–≤_
